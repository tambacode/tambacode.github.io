
<html>
  <head>
    <title>Shared.Farm - Cadastro de Anúncio</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <link rel="manifest" href="manifest.json"/>
    <link rel="stylesheet" type="text/css" href="semanticUI/semantic.css"/>
    <link rel="stylesheet" type="text/css" href="semanticUI/components/Semantic-UI-Alert.css"/>
    <link rel="stylesheet" type="text/css" href="css/webapp.css"/>
    <link rel="stylesheet" type="text/css" href="css/sharedfarm.css"/>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-maskmoney/3.0.2/jquery.maskMoney.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-storage.js"></script>
    <script src="semanticUI/semantic.min.js"></script>
    <script type="text/javascript" src="semanticUI/components/Semantic-UI-Alert.js"></script>
    <script src="js/main.js"></script>
    <script src="js/db.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/messages.js"></script>
    <script src="js/ad.js"></script>
  </head>
  <body>
    <div class="ui left sidebar vertical menu"><a href="index.html" class="item">Home<i class="home icon Large"></i></a><a id="PerfilButton" onClick="user_OpenProfile();" class="item hidden">Meu Perfil<i class="user circle icon Large"></i></a><a onclick="auth_RequireLoggingToAccess('ad_list.html');" class="item">Meus Anúncios<i class="shopping bag icon Large"></i></a><a onclick="auth_RequireLoggingToAccess('ads_MyFavorites.html');" class="item">Favoritos<i class="heart icon Large"></i></a><a onClick="messages_GoTo();" class="item">Mensagens<i class="comment icon Large"></i></a><a id="LogoutButton" onClick="auth_LogoffUser();" class="item hidden">Sair<i class="sign-out icon Large"></i></a><a id="LoginButton" onClick="auth_RequireLoggingToAccess('index.html');" class="item hidden">Login<i class="sign-in icon Large"></i></a></div>
    <div class="ui right sidebar vertical menu">
      <div class="ui padded grid">
        <div class="ui wide column">
          <div class="ui form">
            <div class="ui dividing header">Filtro de Busca</div>
            <div class="field">
              <label>Busca</label>
            </div>
            <div class="field">
              <input type="text" name="term" id="filter_term" placeholder="Busca"/>
            </div>
            <div class="field">           
              <label>Estado</label>
            </div>
            <div class="field">
              <div id="filter_state" class="ui dropdown">
                <div class="text"></div><i class="dropdown icon"></i>
              </div>
            </div>
            <div class="field">
              <label>Cidade</label>
            </div>
            <div class="field">
              <div id="filter_city" class="ui dropdown">
                <div class="text"></div><i class="dropdown icon"></i>
              </div>
            </div>
            <div class="field">
              <div class="ui radio checkbox">
                <input type="radio" name="filter_category" id="filter_produtos" value="produtos" checked="" onclick="ad_InitDropDownWithProducts($('#filter_Subcategory'), true);"/>
                <label>Produtos</label>
              </div>
              <div class="ui radio checkbox">
                <input type="radio" name="filter_category" id="filter_servicos" value="servicos" onclick="ad_InitDropDownWithServices($('#filter_Subcategory'), true);"/>
                <label>Serviços</label>
              </div>
            </div>
            <div class="field">
              <label>Sub-Categoria</label>
            </div>
            <div class="field">
              <div id="filter_Subcategory" class="ui dropdown">
                <div class="text"></div><i class="dropdown icon"></i>
              </div>
            </div>
            <div class="field">
              <label>Preço</label>
              <div class="two fields">
                <div class="field">
                  <input type="text" name="minprice" id="filter_minprice" minlength="1" maxlength="14" data-symbol="R$ " data-thousands="." data-decimal="," onclick="$(this).maskMoney();" placeholder="Mín."/>
                </div>
                <div class="field">
                  <input type="text" name="maxprice" id="filter_maxprice" minlength="1" maxlength="14" data-symbol="R$ " data-thousands="." data-decimal="," onclick="$(this).maskMoney();" placeholder="Max."/>
                </div>
              </div>
            </div>
            <div class="field">
              <button id="btnApplyFilter" onclick="ads_ApplyFilter();" class="orange ui button">Aplicar Filtro</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      const filterSideBar_InitFields = function() {
          // Get values
          const fields = ads_GetFilterFields(true);
      
          // Set Values
          if (fields['searchTerm']) { $('#filter_term').val(fields['searchTerm']); }
          if (fields['category']) {
              $("#" + fields['category']).prop("checked", true);
      
              if (fields['category'] == 'servicos') {
                  ad_InitDropDownWithServices($('#filter_Subcategory'), true);
              }
          }
          
          if (fields['state']) { $('#filter_state').dropdown('set selected', fields['state']); }
          if (fields['city']) { $('#filter_city').dropdown('set selected', fields['city']); }
      
          if (fields['subcategory']) { $('#filter_Subcategory').dropdown('set selected', fields['subcategory']); }
      
          if (fields['minprice']) { $('#filter_minprice').val(fields['minprice']); }
          if (fields['maxprice']) { $('#filter_maxprice').val(fields['maxprice']); }
      };
      
      ad_InitDropDownWithProducts($('#filter_Subcategory'), true);
      ui_InitDropDownWithStates($('#filter_state'), true);
      ui_InitDropDownWithStates($('#filter_city'), true);
      filterSideBar_InitFields();
    </script>
    <div class="pusher">
      <div id="menu" class="ui sf_header">
        <div class="ui padded grid">
          <div class="orange row">
            <div class="three wide column">
              <button onclick="ui_openSidebar();" class="ui icon button orange"><i class="icon list large"></i></button>
            </div>
            <div class="ten wide column">
              <div class="ui search">
                <div class="ui icon input big fluid">
                  <input id="adsSearchInput" type="text" placeholder="Pesquisar..." class="prompt"/><i id="adsSearchButton" onclick="ads_SearchAd();" class="link search icon"></i>
                </div>
                <div class="results"></div>
              </div>
            </div>
            <div id="header_right" class="right aligned three wide column">                   
              <button onclick="ui_openFilterSidebar();" class="ui icon button orange"><i class="icon filter circle large"></i></button>
            </div>
            <script>
              //ui_headerRightAction();
              const searchTerm = misc_GetUrlParam('searchTerm');
              $("#adsSearchInput").val(searchTerm);
            </script>
          </div>
        </div>
      </div>
      <div id="all"><br/>
        <div class="ui container">                   
          <form id="InsertAdRegistration" onsubmit="db_InsertAdRegistration(); return false;" class="ui form">
            <div class="field">
              <label>Título</label>
              <input type="text" name="title" id="title" maxlength="50" required="required" placeholder="Título do anúncio"/>
            </div>
            <div class="field">
              <label>Descrição</label>
              <textarea type="text" name="description" id="description" maxlength="250" required="required" placeholder="Descrição" class="ui padded sixteen column grid"></textarea>
            </div>
            <div class="field">
              <label>Categoria</label>
              <div class="inline fields">
                <div class="field">
                  <div onclick="ad_GetCategory();" class="ui radio orange checkbox">
                    <input type="radio" name="category" id="products" value="produtos" disabled="disabled"/>
                    <label>Produtos</label>
                  </div>
                </div>
                <div class="field">
                  <div onclick="ad_GetCategory();" class="ui radio orange checkbox">
                    <input type="radio" name="category" id="services" value="servicos" disabled="disabled"/>
                    <label>Serviços</label>
                  </div>
                </div>
                <div class="field">
                  <div onclick="ad_GetCategory();" class="ui radio orange checkbox">
                    <input type="radio" name="category" id="events" value="events" disabled="disabled"/>
                    <label>Eventos</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="field">
              <div class="ui grid">
                <div class="nine wide column">
                  <div class="field">
                    <label>Subcategoria</label>
                    <div id="subcategory" class="ui fluid selection dropdown">
                      <div class="text"></div><i class="dropdown icon"></i>
                    </div>
                  </div>
                </div>
                <div class="seven wide column">
                  <div class="field">
                    <label>Preço R$</label>
                    <input type="text" name="price" id="price" minlength="1" maxlength="14" data-symbol="R$ " data-thousands="." data-decimal="," required="required" onclick="$(this).maskMoney();"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Imagem</label>
              <div id="ImagesGrid" class="ui padded centered grid">
              </div>
            </div>
            <div class="field hidden events">
              <label>Data</label>
              <input type="text" name="datead" id="datead" maxlength="200" placeholder="data do evento"/>
            </div>
            <div class="field hidden events">
              <label>Site</label>
              <input type="text" name="sitead" id="sitead" maxlength="200" placeholder="url de divulgação do evento"/>
            </div>
            <div class="field hidden events">
              <label>Url</label>
              <input type="text" name="urlad" id="urlad" maxlength="200" placeholder="http://www.xyz.com/video"/>
            </div>
            <div class="field">
              <label>Localização</label>
              <input type="text" name="locationad" id="locationad" maxlength="100" placeholder="Localização"/>
            </div>
            <div class="field">
              <label>CEP</label>
              <input type="text" name="cep" id="cep" minlength="8" maxlength="8" placeholder="00000-000" onkeypress="$(this).mask('00000-000');"/>
            </div>
            <div class="field hidden events">
              <div class="ui grid">
                <div class="six wide column">
                  <div class="field hidden events">
                    <label>UF</label>
                    <select id="state" class="ui compact dropdown">
                      <option value="">...</option>
                    </select>
                  </div>
                </div>
                <div class="ten wide column">
                  <div class="field hidden events">
                    <label>Localidade</label>
                    <input id="city" input="input" type="text" name="city" placeholder="São Paulo"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="field">
              <label>Telefone</label>
              <div class="inline fields">
                <div class="ui equal width center grid">
                  <div class="column">
                    <div class="field">
                      <input type="text" name="tel" id="tel" minlength="11" maxlength="11" placeholder="(00) 00000-0000" onkeypress="$(this).mask('(00) 00000-0000');"/>
                    </div>
                  </div>
                  <div class="column">
                    <div style="padding-top: 10px;" class="field">
                      <div class="ui checkbox">
                        <input type="checkbox" id="tel_visible" name="tel_visible" checked=""/>
                        <label>Visível no anúncio?</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="field">
              <button id="InsertAdRegistrationButton" class="orange ui button">Cadastrar</button>
            </div>
            <div class="field">
              <button onclick="ad_update();" id="updateButton" class="orange ui button hidden">Editar</button>
            </div>
          </form>
        </div>
        <div id="ad_type_modal" class="ui modal">
          <div class="vertical-center">
            <div class="ui padded sixteen column centered grid">
              <div class="wide column row">
                <div class="ui orange card login">
                  <div class="content">
                    <div class="ui grid">
                      <div class="orange column row">
                        <div class="column"></div>
                        <div class="left aligned ten wide column">
                          <div class="ui white header">Tipo de anúncio</div>
                        </div>
                        <!--.right.aligned.four.wide.column
                        .ui.icon
                            i.icon.user.circle.large
                        -->
                      </div>
                      <div class="ui padded column row grid">
                        <div class="sixteen wide column centered">
                          <button value="products" onClick="ad_selectedType(this.value);" class="big ui button"><i class="cubes icon"></i>Produtos</button>
                        </div>
                        <div class="sixteen wide column">
                          <button value="services" onClick="ad_selectedType(this.value);" class="big ui button"><i class="cogs icon"></i>Serviços</button>
                        </div>
                        <div class="sixteen wide column centered">
                          <button value="events" onClick="ad_selectedType(this.value);" class="big ui button"><i class="calendar outline icon"></i>Eventos</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      ad_Register_AddNewImage();
      ad_GetCategory();
      ad_fillfieldforEdit();
      $('.ui.modal')
          .modal('setting', 'closable', false)
          .modal('show');
    </script>
  </body>
</html>